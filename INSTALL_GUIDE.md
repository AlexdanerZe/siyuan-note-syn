# 思源笔记每日进展同步插件 - 安装和使用指南

## 🚀 安装方法

### 方法一：直接安装（推荐）
1. 下载 `dist` 文件夹中的所有文件
2. 在思源笔记中，进入 `设置` → `集市` → `插件` → `从本地安装`
3. 选择 `dist` 文件夹进行安装

### 方法二：开发模式安装
1. 将整个项目文件夹复制到思源笔记的插件目录
2. 运行 `npm install` 安装依赖
3. 运行 `npm run build` 构建插件
4. 在思源笔记中启用插件

## ⚙️ 配置说明

安装插件后，需要进行以下配置：

### 1. 基本设置
- **日记路径** (`diaryPath`): 设置日记文档的路径，例如 `/daily note/`
- **项目路径** (`projectPath`): 设置项目文档的路径，例如 `/projects/`
- **进展区块** (`progressSection`): 设置日记中进展内容的标题，例如 `今日进展`

### 2. 自动同步设置
- **启用自动同步** (`autoSyncEnabled`): 是否在编辑日记后自动同步
- **自动同步延迟** (`autoSyncDelay`): 编辑停止后多少秒开始同步（5-60秒）

### 3. 打开设置界面
- 使用快捷键 `⇧⌘P` 打开设置对话框
- 或者点击顶部工具栏的设置按钮

## 📝 使用方法

### 1. 日记格式要求
在日记中使用以下格式记录项目进展：

```markdown
# 2024-01-15 日记

## 今日进展

- 完成了 [[项目A]] 的需求分析文档
- 修复了 [[项目B]] 中的登录bug  
- 开始设计 [[项目A]] 的数据库结构

## 其他内容
这部分内容不会被同步
```

### 2. 项目引用格式
- 使用双方括号 `[[项目名称]]` 来引用项目
- 项目名称应该与项目文档的文件名或路径匹配

### 3. 同步触发方式

#### 自动同步
- 编辑日记文档后，插件会自动检测并同步进展
- 同步延迟可在设置中调整

#### 手动同步
- 使用快捷键 `⌘←` 手动触发同步
- 或者点击顶部工具栏的同步按钮

## 🔧 功能特性

### ✅ 已实现功能
- [x] 自动识别日记中的项目进展
- [x] 智能提取项目引用
- [x] 自动同步到对应项目文档
- [x] 防重复同步机制
- [x] 可配置的自动同步
- [x] 手动同步功能
- [x] 设置界面
- [x] 快捷键支持
- [x] 多种日期格式支持

### 🎯 核心特性
1. **智能识别**: 自动识别日记中包含项目引用的进展条目
2. **防重复**: 基于内容哈希和块ID的双重防重复机制
3. **灵活配置**: 可自定义日记路径、项目路径和进展区块标题
4. **实时同步**: 支持编辑后自动同步和手动触发同步
5. **用户友好**: 提供直观的设置界面和快捷键操作

## 🐛 故障排除

### 常见问题

1. **同步不工作**
   - 检查日记路径和项目路径配置是否正确
   - 确认项目引用格式是否正确（使用双方括号）
   - 查看控制台是否有错误信息

2. **找不到项目文档**
   - 确认项目文档存在于配置的项目路径中
   - 检查项目名称是否与文档名称匹配
   - 插件支持模糊匹配，会尝试查找包含项目名称的文档

3. **重复同步**
   - 插件有防重复机制，相同内容不会重复同步
   - 如需重新同步，可以清除同步历史

### 调试信息
插件会在控制台输出详细的调试信息，包括：
- 同步开始和结束时间
- 找到的进展条目数量
- 项目文档匹配结果
- 错误信息和警告

## 📋 测试验证

运行测试脚本验证核心功能：
```bash
node test-plugin.js
```

测试包括：
- 项目引用提取
- 内容清理
- 日期提取
- 内容哈希生成

## 🔄 版本信息

- **当前版本**: 1.0.0
- **最低思源版本**: 3.2.1
- **支持平台**: Windows, Linux, macOS, iOS, Android

## 📞 技术支持

如果遇到问题或有功能建议，请：
1. 查看控制台错误信息
2. 检查配置是否正确
3. 参考本指南的故障排除部分
4. 提交 Issue 到项目仓库

---

**祝您使用愉快！** 🎉